<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Rh√©lys - Future beauty</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: #0d1b2a;
      color: #f0f0f0;
      overflow-x: hidden;
    }

    /* Cover */
    .cover {
      position: fixed;
      inset: 0;
      background: url('bann.webp') no-repeat center/cover;
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      flex-direction: column;
      text-align: center;
    }
    .cover h1 {
      font-family: 'Playfair Display', serif;
      font-size: 4em;
      color: #D4A017;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
      margin-bottom: 20px;
    }
    .cover button {
      padding: 14px 30px;
      font-size: 18px;
      background-color: #D4A017;
      color: #0d1b2a;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .cover button:hover {
      background-color: #f0f0f0;
    }

    .hidden {
      display: none;
    }

    /* Navbar */
    .navbar {
      position: sticky;
      top: 0;
      background: rgba(13, 27, 42, 0.9);
      backdrop-filter: blur(10px);
      padding: 15px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 200;
    }
    .navbar .logo img {
      height: 40px;
      width: auto;
    }
    .navbar .nav-links {
      display: flex;
      gap: 20px;
    }
    .navbar a {
      color: #dbeafe;
      text-decoration: none;
      font-size: 1em;
      transition: color 0.3s;
    }
    .navbar a:hover {
      color: #D4A017;
    }
    .navbar .cart {
      position: relative;
      font-size: 1.2em;
      color: #dbeafe;
      cursor: pointer;
      margin-left: 20px;
    }
    .navbar .cart .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #1e3a5f;
      color: #fff;
      font-size: 0.7em;
      padding: 2px 6px;
      border-radius: 50%;
    }

    /* Hero */
    .hero {
      position: relative;
      height: 80vh;
      background: url('bann.webp') no-repeat center/cover;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
    }
    .hero::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(13, 27, 42, 0.5), rgba(27, 38, 59, 0.7));
    }
    .hero h1 {
      font-family: 'Playfair Display', serif;
      font-size: 4em;
      color: #D4A017;
      text-shadow: 0 2px 10px rgba(0,0,0,0.5);
      position: relative;
      z-index: 1;
      animation: fadeInUp 1s ease-out;
    }
    .hero p {
      font-size: 1.2em;
      color: #dbeafe;
      margin: 20px 0;
      position: relative;
      z-index: 1;
      animation: fadeInUp 1s ease-out 0.3s forwards;
      opacity: 0;
    }
    .hero .cta {
      padding: 12px 30px;
      background: linear-gradient(135deg, #0d1b2a, #1e3a5f);
      color: #fff;
      border: none;
      border-radius: 8px;
      font-size: 1.1em;
      cursor: pointer;
      position: relative;
      z-index: 1;
      transition: transform 0.3s;
      animation: fadeInUp 1s ease-out 0.6s forwards;
      opacity: 0;
    }
    .hero .cta:hover {
      transform: translateY(-3px);
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Countdown Section */
    .countdown-section {
      padding: 40px 20px;
      background: #1b263b;
      text-align: center;
      max-width: 1200px;
      margin: auto;
    }
    .countdown-section h2 {
      font-family: 'Playfair Display', serif;
      color: #d49d12;
      font-size: 2em;
      margin-bottom: 20px;
    }
    .countdown {
      background: #415a77;
      border-radius: 8px;
      padding: 15px;
      display: inline-block;
    }
    .countdown p {
      color: #fff;
      font-size: 1.5em;
      font-weight: 500;
    }
    @media (max-width: 768px) {
      .countdown-section {
        padding: 20px;
      }
      .countdown-section h2 {
        font-size: 1.5em;
      }
      .countdown p {
        font-size: 1.2em;
      }
    }

    /* Products */
    .products {
      padding: 80px 40px;
      background: #1b263b;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 30px;
      max-width: 1200px;
      margin: auto;
    }
    .product {
      background: #415a77;
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      position: relative;
      transition: transform 0.3s, box-shadow 0.3s;
    }
    .product:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.4);
    }
    .product img {
      max-width: 100%;
      border-radius: 8px;
      transition: transform 0.3s;
    }
    .product:hover img {
      transform: scale(1.05);
    }
    .product h2 {
      font-family: 'Playfair Display', serif;
      color: #fff;
      margin: 15px 0 10px;
      font-size: 1.5em;
    }
    .product p {
      color: #cbd5e1;
      font-size: 0.9em;
    }
    .product .stock-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #0d1b2a;
      color: #dbeafe;
      padding: 5px 10px;
      border-radius: 12px;
      font-size: 0.8em;
    }
    .product a {
      display: inline-block;
      margin-top: 15px;
      padding: 10px 20px;
      background: #0d1b2a;
      color: #fff;
      text-decoration: none;
      border-radius: 8px;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.3s, transform 0.3s;
    }
    .product:hover a {
      opacity: 1;
      transform: translateY(0);
    }

    /* Pre-Footer (Sosmed/Kontak) */
    .pre-footer {
      padding: 20px;
      background: #1b263b;
      text-align: center;
    }
    .contact-links {
      display: flex;
      justify-content: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    .contact-links a i {
      font-size: 1.5em;
      color: #dbeafe;
      transition: color 0.3s, transform 0.3s;
    }
    .contact-links a:hover i {
      color: #fff;
      transform: scale(1.2);
    }
    @media (max-width: 768px) {
      .pre-footer {
        padding: 15px;
      }
      .contact-links {
        gap: 20px;
      }
      .contact-links a i {
        font-size: 1.2em;
      }
    }

    /* Footer */
    .footer {
      background: #0d1b2a;
      padding: 40px 20px;
      text-align: center;
      color: #dbeafe;
      position: relative;
      z-index: 1;
    }
    .footer p {
      font-size: 0.9em;
    }

    /* Popup Produk */
    .popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 300;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-in;
    }
    .popup-content {
      background: #1b263b;
      border-radius: 16px;
      width: 90%;
      max-width: 700px;
      max-height: 90vh;
      padding: 30px;
      position: relative;
      overflow-y: auto;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5), 0 0 10px rgba(219, 234, 254, 0.2);
      transform: scale(0.9);
      animation: popupScale 0.3s ease-out forwards;
    }
    .popup-close {
      position: sticky;
      top: 15px;
      right: 20px;
      font-size: 28px;
      color: #dbeafe;
      cursor: pointer;
      transition: color 0.3s;
      z-index: 10;
      background: #1b263b;
      padding: 5px;
    }
    .popup-close:hover {
      color: #fff;
    }
    .popup h2 {
      font-family: 'Playfair Display', serif;
      color: #fff;
      text-align: center;
      font-size: 2em;
      margin-bottom: 20px;
    }
    .popup p {
      color: #cbd5e1;
      text-align: center;
      margin-bottom: 20px;
    }
    .popup .price {
      font-size: 1.4em;
      color: #dbeafe;
      font-weight: 600;
      text-align: center;
      margin: 10px 0;
    }
    .popup .stock {
      font-size: 1em;
      color: #f0f0f0;
      text-align: center;
      margin-bottom: 10px;
    }
    .popup .button-group {
      display: flex;
      gap: 10px;
    }
    .popup button {
      flex: 1;
      padding: 12px;
      background: linear-gradient(135deg, #0d1b2a, #1e3a5f);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 1.1em;
      cursor: pointer;
      transition: background 0.3s, transform 0.2s;
    }
    .popup button:hover {
      background: linear-gradient(135deg, #1e3a5f, #0d1b2a);
      transform: translateY(-2px);
    }
    .popup .add-to-cart {
      background: linear-gradient(135deg, #415a77, #6b7280);
    }
    .popup .add-to-cart:hover {
      background: linear-gradient(135deg, #6b7280, #415a77);
    }

    /* Slider */
    .slider-container {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 20px;
    }
    .slider {
      width: 100%;
      height: 400px;
      overflow: hidden;
      border-radius: 12px;
      border: 1px solid rgba(219, 234, 254, 0.1);
    }
    .slider img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      position: absolute;
      top: 0;
      left: 0;
      opacity: 0;
      transition: opacity 0.5s ease-in-out;
    }
    .slider img.active {
      opacity: 1;
    }
    .slider-btn {
      background: rgba(0, 0, 0, 0.5);
      color: #dbeafe;
      border: none;
      padding: 15px;
      cursor: pointer;
      font-size: 24px;
      border-radius: 50%;
      transition: background 0.3s, opacity 0.3s;
      opacity: 0;
      z-index: 10;
    }
    .slider-container:hover .slider-btn {
      opacity: 0.8;
    }
    .slider-btn:hover {
      background: rgba(0, 0, 0, 0.7);
      opacity: 1;
    }
    .slider-btn.prev {
      margin-right: 10px;
    }
    .slider-btn.next {
      margin-left: 10px;
    }
    .thumbnails {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    .thumbnail {
      width: 60px;
      height: 60px;
      object-fit: cover;
      border-radius: 8px;
      cursor: pointer;
      opacity: 0.6;
      transition: opacity 0.3s, border 0.3s;
      border: 2px solid transparent;
    }
    .thumbnail.active {
      opacity: 1;
      border: 2px solid #dbeafe;
    }

    /* Cart Popup */
    .cart-popup {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.85);
      z-index: 300;
      align-items: center;
      justify-content: center;
    }
    .cart-popup-content {
      background: #1b263b;
      border-radius: 16px;
      width: 90%;
      max-width: 600px;
      max-height: 80vh;
      padding: 20px;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    }
    .cart-popup-content h2 {
      font-family: 'Playfair Display', serif;
      color: #fff;
      text-align: center;
      margin-bottom: 15px;
    }
    .cart-item {
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      align-items: center;
      gap: 10px;
      padding: 10px 0;
      border-bottom: 1px solid #415a77;
    }
    .quantity-controls {
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .quantity-controls button {
      background: #415a77;
      color: #fff;
      border: none;
      padding: 5px 10px;
      border-radius: 5px;
      cursor: pointer;
    }
    .quantity-controls button:hover {
      background: #6b7280;
    }
    .cart-item span {
      color: #dbeafe;
      font-size: 1em;
    }
    .cart-item button {
      background: #dc2626;
      padding: 5px 10px;
      font-size: 0.9em;
      border: none;
      border-radius: 5px;
      color: #fff;
    }
    .cart-item button:hover {
      background: #b91c1c;
    }
    .cart-total {
      margin-top: 15px;
      text-align: right;
      color: #dbeafe;
      font-size: 1.2em;
    }
    .cart-popup-content .checkout {
      width: 100%;
      margin-top: 15px;
      background: linear-gradient(135deg, #0d1b2a, #1e3a5f);
    }
    .cart-popup-content .checkout:hover {
      background: linear-gradient(135deg, #1e3a5f, #0d1b2a);
    }

    /* Shipping Selection */
    .shipping-selection {
      margin: 10px 0;
      display: flex;
      flex-direction: column;
      gap: 5px;
      max-width: 200px;
      font-size: 0.9em;
    }
    .shipping-selection label {
      color: #dbeafe;
      font-size: 0.9em;
      display: flex;
      align-items: center;
      gap: 5px;
      cursor: pointer;
      transition: color 0.3s;
    }
    .shipping-selection label:hover {
      color: #fff;
    }
    .shipping-selection label::before {
      content: 'üöö';
      font-size: 1em;
    }
    .shipping-selection select {
      padding: 6px 10px;
      background: #2d3e50;
      color: #f0f0f0;
      border: 1px solid #60a5fa;
      border-radius: 6px;
      font-size: 0.85em;
      cursor: pointer;
      transition: border-color 0.3s, background 0.3s;
    }
    .shipping-selection select:hover {
      background: #3b4b63;
      border-color: #93c5fd;
    }
    .shipping-selection select:focus {
      outline: none;
      border-color: #93c5fd;
      background: #3b4b63;
    }
    .shipping-cost {
      color: #93c5fd;
      font-size: 0.85em;
      font-weight: 500;
    }
    .cart-popup .shipping-selection {
      margin-bottom: 15px;
    }
    .popup .shipping-selection {
      margin: 10px auto;
      align-items: center;
    }
    @media (max-width: 768px) {
      .shipping-selection {
        max-width: 100%;
      }
      .shipping-selection select {
        width: 100%;
      }
    }

    /* Flowers */
    .flowers {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 100;
    }
    .flowers span {
      position: absolute;
      width: 20px;
      height: 20px;
      background: url('https://cdn-icons-png.flaticon.com/512/6968/6968026.png') no-repeat center/contain;
      animation: fall 10s linear infinite;
      opacity: 0.7;
    }
    @keyframes fall {
      to {
        transform: translateY(100vh);
        opacity: 0;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .cover h1 {
        font-size: 2.5em;
      }
      .cover button {
        padding: 10px 20px;
        font-size: 16px;
      }
      .navbar {
        padding: 10px 20px;
      }
      .navbar .logo img {
        height: 30px;
      }
      .navbar .nav-links {
        gap: 10px;
      }
      .navbar a {
        font-size: 0.9em;
      }
      .hero h1 {
        font-size: 2.5em;
      }
      .hero p {
        font-size: 1em;
      }
      .products {
        padding: 40px 20px;
      }
      .popup-content {
        width: 95%;
        padding: 20px;
      }
      .slider {
        height: 250px;
      }
      .slider-btn.prev {
        margin-right: 5px;
      }
      .slider-btn.next {
        margin-left: 5px;
      }
      .popup .button-group {
        flex-direction: column;
        gap: 15px;
      }
      .cart-popup-content {
        width: 95%;
      }
    }
  </style>
</head>
<body>
  <audio id="bgm" src="sound.mp3" loop preload="auto"></audio>

  <!-- Cover -->
  <div class="cover" id="cover">
    <h1>Rh√©lys</h1>
    <button onclick="masuk()">Masuk</button>
  </div>

  <!-- Flowers -->
  <div class="flowers">
    <span style="left:10%; animation-delay: 0s;"></span>
    <span style="left:25%; animation-delay: 2s;"></span>
    <span style="left:40%; animation-delay: 4s;"></span>
    <span style="left:60%; animation-delay: 6s;"></span>
    <span style="left:80%; animation-delay: 8s;"></span>
  </div>

  <!-- Main Content -->
  <div id="mainContent" class="hidden">
    <!-- Navbar -->
    <nav class="navbar">
      <div class="logo">
        <img src="logo.png" alt="Rh√©lys Logo">
      </div>
      <div class="nav-links">
        <a href="#home">Home</a>
        <a href="#products">Collection</a>
        <a href="#contact" onclick="scrollToContact()">Contact</a>
      </div>
      <span class="cart" onclick="openCartPopup()"><span class="cart-count" id="cartCount">0</span>üõí</span>
    </nav>

    <!-- Hero -->
    <section class="hero" id="home">
      <h1>Rh√©lys</h1>
      <h1>The Essence of Eternity</h1>
      <p>Esensi dari keabadian</p>
      <button class="cta" onclick="document.getElementById('products').scrollIntoView({behavior: 'smooth'})">Explore Collection</button>
    </section>
    
    <!-- about -->
<section class="countdown-section">                
      <h2>About</h2>
     <p>Rh√©lys adalah perpaduan antara mitologi dan keindahan alam. Terinspirasi dari Rh√©a, ibu para dewa, dan bunga lily yang melambangkan kemurnian. Ini adalah parfum untuk yang berjiwa kuat, tenang, dan tak tersentuh oleh waktu sesaat.</p>
    </section>
    
    <!-- Countdown Section -->
    <section class="countdown-section">                
      <section class="countdown-section">                
      <h2>Grand Unveiling</h2>
      <p>Free Card Member + Free Ongkir</p>
      <div class="countdown">
        <p id="countdownTimer">Days 0 | Jam: 0 | Menit: 0 | Detik: 0</p>
      </div>
    </section>      
    </section>

    <!-- Products -->
    <section class="products" id="products">
      <div class="product">
        <div class="stock-badge" data-product="eau-de-parfum">Tersisa 100</div>
        <img src="soon.jpg" alt="Parfum 1">
        <h2>Rh√©lys - ???</h2>
        <p>Wewangian elegan dengan aroma klasik mewah.</p>
        <a href="#" onclick="openPopup(
          'Rh√©lys - ???',
          'Coming Soon',
          000,
          ['soon.jpg', 'soon.jpg', 'soon.jpg', 'soon.jpg', 'soon.jpg'],
          'eau-de-parfum'
        )">Lihat Produk</a>
      </div>
      
      
      
      
      
      
      <!--
      <div class="product">
        <div class="stock-badge" data-product="nuit">Tersisa 10</div>
        <img src="1.webp" alt="Parfum 2">
        <h2>Rh√©lys Nuit</h2>
        <p>Kesegaran malam dengan sentuhan misterius.</p>
        <a href="#" onclick="openPopup(
          'Rh√©lys Nuit',
          'Parfum malam dengan aroma amber, melati, dan vanila yang memberikan kesan misterius dan memikat.',
          500000,
          ['1.webp', '2.webp', '3.webp', '2.webp', '1.webp'],
          'nuit'
        )">Beli Sekarang</a>
      </div>
      <div class="product">
        <div class="stock-badge" data-product="belle">Tersisa 10</div>
        <img src="1.webp" alt="Parfum 3">
        <h2>Rh√©lys Belle</h2>
        <p>Aroma bunga yang memikat dan anggun.</p>
        <a href="#" onclick="openPopup(
          'Rh√©lys Belle',
          'Aroma segar dengan kombinasi bunga peony, citrus, dan musk untuk kesan anggun sepanjang hari.',
          400000,
          ['1.webp', '2.webp', '3.webp', '3.webp', '2.webp'],
          'belle'
        )">Beli Sekarang</a>
      </div>
       -->
       
       
       
       
    </section>

    <!-- Pre-Footer (Sosmed/Kontak) -->
    <section class="pre-footer" id="contact">
      <div class="contact-links">
        <a href="https://www.instagram.com/rhelysofficial?igsh=MWxjcXE0eGR3eHllNQ==" target="_blank" title="Instagram">
          <i class="fab fa-instagram"></i>
        </a>
        <a href="https://www.tiktok.com/@rhlys.official?_t=ZS-8vcaeUrsvoo&_r=1" target="_blank" title="TikTok">
          <i class="fab fa-tiktok"></i>
        </a>
        <a href="https://wa.me/628123456789" target="_blank" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="mailto:rhelysgroup@gmail.com" title="Email">
          <i class="fas fa-envelope"></i>
        </a>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
      <p>¬© 2025 Rh√©lys. Seluruh hak cipta dilindungi.</p>
    </footer>
  </div>

  <!-- Product Popup -->
  <div class="popup" id="productPopup">
    <div class="popup-content">
      <span class="popup-close" onclick="closePopup()">√ó</span>
      <h2 id="popupTitle"></h2>
      <div class="slider-container">
        <button class="slider-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
        <div class="slider" id="popupSlider"></div>
        <button class="slider-btn next" onclick="changeSlide(1)">‚ùØ</button>
      </div>
      <div class="thumbnails" id="popupThumbnails"></div>
      <p id="popupDescription"></p>
      <div class="price" id="popupPrice"></div>
      <div class="stock" id="popupStock"></div>
      <div class="shipping-selection">
        <label for="productShippingCity">Ekspedisi(J&T)</label>
        <select id="productShippingCity" onchange="updateProductShippingCost()">
          <option value="">Pilih kota</option>
          <option value="jakarta">Free Ongkir</option>
        </select>
        <div class="shipping-cost" id="productShippingCost">Ongkir: Rp 0</div>
      </div>
      <div class="button-group">
        <button class="add-to-cart" onclick="addToCart()">Masuk Keranjang</button>
        <button onclick="initiatePayment()">Buy Soon</button>
      </div>
    </div>
  </div>

  <!-- Cart Popup -->
  <div class="cart-popup" id="cartPopup">
    <div class="cart-popup-content">
      <span class="popup-close" onclick="closeCartPopup()">√ó</span>
      <h2>Keranjang Belanja</h2>
      <div class="shipping-selection">
        <label for="shippingCity">Kota Tujuan (J&T)</label>
        <select id="shippingCity" onchange="updateShippingCost()">
          <option value="">Pilih kota</option>
          <option value="jakarta">Jabodetabek - Free Ongkir</option>
          <option value="bandung">JAWA - Free Ongkir</option>
          <option value="lainnya">Lainnya - Free Ongkir</option>
        </select>
        <div class="shipping-cost" id="shippingCost">Ongkir: Rp 0</div>
      </div>
      <div id="cartItems"></div>
      <div class="cart-total" id="cartTotal">Total: Rp 0</div>
      <button class="checkout" onclick="checkoutCart()">Checkout</button>
    </div>
  </div>

  <script>
    let currentSlide = 0;
    let slides = [];
    let currentProduct = { title: '', price: 0, id: '' };

    // Stok dummy (statis, tidak berkurang)
    const dummyStocks = {
      'eau-de-parfum': 100,
      'nuit': 10,
      'belle': 10
    };

    // Ongkir J&T
    const shippingCosts = {
      jakarta: 1,
      bandung: 1,
      surabaya: 20000,
      lainnya: 25000
    };

    // Hitungan mundur
    function updateCountdown() {
      const targetDate = new Date('2025-05-03T00:00:00');
      const now = new Date();
      const diff = targetDate - now;

      if (diff <= 0) {
        document.getElementById('countdownTimer').textContent = 'Waktu habis!';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById('countdownTimer').textContent = 
        ` ${days} Days / ${hours} H / ${minutes} M / ${seconds} S`;
    }

    // Update ongkir di popup keranjang
    function updateShippingCost() {
      const select = document.getElementById('shippingCity');
      const shippingCostElement = document.getElementById('shippingCost');
      const selectedCity = select.value;
      let shippingCost = 0;

      if (selectedCity && shippingCosts[selectedCity]) {
        shippingCost = shippingCosts[selectedCity];
        sessionStorage.setItem('shippingCity', selectedCity);
      } else {
        sessionStorage.removeItem('shippingCity');
      }

      shippingCostElement.textContent = `Ongkir: Rp ${shippingCost.toLocaleString('id-ID')}`;
      updateCartTotal();
    }

    // Update ongkir di popup produk
    function updateProductShippingCost() {
      const select = document.getElementById('productShippingCity');
      const shippingCostElement = document.getElementById('productShippingCost');
      const selectedCity = select.value;
      let shippingCost = 0;

      if (selectedCity && shippingCosts[selectedCity]) {
        shippingCost = shippingCosts[selectedCity];
        sessionStorage.setItem('productShippingCity', selectedCity);
      } else {
        sessionStorage.removeItem('productShippingCity');
      }

      shippingCostElement.textContent = `Ongkir: Rp ${shippingCost.toLocaleString('id-ID')}`;
    }

    // Update total keranjang
    function updateCartTotal() {
      const cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      const shippingCity = sessionStorage.getItem('shippingCity');
      let shippingCost = shippingCity && shippingCosts[shippingCity] ? shippingCosts[shippingCity] : 0;
      const itemsTotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const total = itemsTotal + shippingCost;
      document.getElementById('cartTotal').textContent = `Total: Rp ${total.toLocaleString('id-ID')}`;
    }

    // Keranjang
    function updateCartCount() {
      const cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      const count = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cartCount').textContent = count;
    }

    function addToCart() {
      if (dummyStocks[currentProduct.id] <= 0) {
        alert('Maaf, stok habis!');
        return;
      }
      let cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      const existing = cart.find(item => item.id === currentProduct.id);
      if (existing) {
        existing.quantity += 1;
      } else {
        cart.push({ ...currentProduct, quantity: 1 });
      }
      sessionStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      alert('Produk ditambahkan ke keranjang!');
      closePopup();
    }

    function openCartPopup() {
      const cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      const cartItems = document.getElementById('cartItems');
      cartItems.innerHTML = '';
      if (cart.length === 0) {
        cartItems.innerHTML = '<p>Keranjang kosong.</p>';
      } else {
        cart.forEach((item, index) => {
          const div = document.createElement('div');
          div.className = 'cart-item';
          div.innerHTML = `
            <span>${item.title}</span>
            <div class="quantity-controls">
              <button onclick="updateQuantity(${index}, -1)">-</button>
              <span>${item.quantity}</span>
              <button onclick="updateQuantity(${index}, 1)">+</button>
            </div>
            <span>Rp ${(item.price * item.quantity).toLocaleString('id-ID')}</span>
            <button onclick="removeFromCart(${index})">Hapus</button>
          `;
          cartItems.appendChild(div);
        });
      }
      const savedCity = sessionStorage.getItem('shippingCity');
      if (savedCity) {
        document.getElementById('shippingCity').value = savedCity;
      }
      updateShippingCost();
      document.getElementById('cartPopup').style.display = 'flex';
    }

    function updateQuantity(index, change) {
      let cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      const newQuantity = cart[index].quantity + change;
      if (newQuantity <= 0) {
        removeFromCart(index);
        return;
      }
      cart[index].quantity = newQuantity;
      sessionStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      openCartPopup();
    }

    function closeCartPopup() {
      document.getElementById('cartPopup').style.display = 'none';
    }

    function removeFromCart(index) {
      let cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      cart.splice(index, 1);
      sessionStorage.setItem('cart', JSON.stringify(cart));
      updateCartCount();
      openCartPopup();
    }

    function checkoutCart() {
      const cart = JSON.parse(sessionStorage.getItem('cart') || '[]');
      if (cart.length === 0) {
        alert('Keranjang kosong!');
        closeCartPopup();
        return;
      }
      const shippingCity = sessionStorage.getItem('shippingCity');
      if (!shippingCity) {
        alert('Pilih kota tujuan dulu!');
        return;
      }
      const shippingCost = shippingCosts[shippingCity] || 0;
      const itemsTotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
      const total = itemsTotal + shippingCost;
      const invoiceUrl = 'payment.html';
      alert(`Menuju pembayaran. Barang: Rp ${itemsTotal.toLocaleString('id-ID')}, Ongkir: Rp ${shippingCost.toLocaleString('id-ID')}, Total: Rp ${total.toLocaleString('id-ID')}`);
      window.open(invoiceUrl, '_blank');
      sessionStorage.removeItem('cart');
      sessionStorage.removeItem('shippingCity');
      updateCartCount();
      closeCartPopup();
    }

    function updateStockUI() {
      document.querySelectorAll('.stock-badge').forEach(badge => {
        const productId = badge.getAttribute('data-product');
        badge.textContent = `Tersisa ${dummyStocks[productId]}`;
      });
      const popupStock = document.getElementById('popupStock');
      if (popupStock && currentProduct.id) {
        popupStock.textContent = `Stok: ${dummyStocks[currentProduct.id] || 0}`;
      }
    }

    function masuk() {
      document.getElementById("cover").classList.add("hidden");
      document.getElementById("mainContent").classList.remove("hidden");
      const bgm = document.getElementById("bgm");
      bgm.play().catch((e) => console.warn("Gagal memutar musik:", e));
      updateCartCount();
      updateStockUI();
      updateCountdown();
      setInterval(updateCountdown, 1000);
    }

    function openPopup(title, description, price, images, productId) {
      document.getElementById("popupTitle").textContent = title;
      document.getElementById("popupDescription").textContent = description;
      document.getElementById("popupPrice").textContent = `Rp ${price.toLocaleString('id-ID')}`;
      document.getElementById("popupStock").textContent = `Stok: ${dummyStocks[productId] || 0}`;
      currentProduct = { title, price, id: productId };

      const slider = document.getElementById("popupSlider");
      slider.innerHTML = "";
      slides = images;
      images.forEach((src, index) => {
        const img = document.createElement("img");
        img.src = src;
        img.alt = title;
        img.loading = "lazy";
        if (index === 0) img.classList.add("active");
        slider.appendChild(img);
      });

      const thumbnails = document.getElementById("popupThumbnails");
      thumbnails.innerHTML = "";
      images.forEach((src, index) => {
        const thumb = document.createElement("img");
        thumb.src = src;
        thumb.classList.add("thumbnail");
        if (index === 0) thumb.classList.add("active");
        thumb.onclick = () => goToSlide(index);
        thumbnails.appendChild(thumb);
      });

      const savedCity = sessionStorage.getItem('productShippingCity');
      if (savedCity) {
        document.getElementById('productShippingCity').value = savedCity;
      }
      updateProductShippingCost();
      currentSlide = 0;
      document.getElementById("productPopup").style.display = "flex";
    }

    function closePopup() {
      document.getElementById("productPopup").style.display = "none";
    }

    function changeSlide(direction) {
      const images = document.querySelectorAll(".slider img");
      const thumbs = document.querySelectorAll(".thumbnail");
      images[currentSlide].classList.remove("active");
      thumbs[currentSlide].classList.remove("active");
      currentSlide = (currentSlide + direction + slides.length) % slides.length;
      images[currentSlide].classList.add("active");
      thumbs[currentSlide].classList.add("active");
    }

    function goToSlide(index) {
      const images = document.querySelectorAll(".slider img");
      const thumbs = document.querySelectorAll(".thumbnail");
      images[currentSlide].classList.remove("active");
      thumbs[currentSlide].classList.remove("active");
      currentSlide = index;
      images[currentSlide].classList.add("active");
      thumbs[currentSlide].classList.add("active");
    }

    function initiatePayment() {
      if (dummyStocks[currentProduct.id] <= 0) {
        alert("Maaf, stok produk habis!");
        closePopup();
        return;
      }
      const shippingCity = document.getElementById('productShippingCity').value;
      if (!shippingCity) {
        alert('Pilih kota tujuan dulu!');
        return;
      }
      const shippingCost = shippingCosts[shippingCity] || 0;
      const total = currentProduct.price + shippingCost;
      const invoiceUrl = 'payment.html';
      alert(`Menuju pembayaran. Barang: Rp ${currentProduct.price.toLocaleString('id-ID')}, Ongkir: Rp ${shippingCost.toLocaleString('id-ID')}, Total: Rp ${total.toLocaleString('id-ID')}`);
      window.open(invoiceUrl, '_blank');
      sessionStorage.removeItem('productShippingCity');
      closePopup();
    }

    function scrollToContact() {
      document.getElementById('contact').scrollIntoView({ behavior: 'smooth' });
    }

    document.getElementById("productPopup").addEventListener("click", (e) => {
      if (e.target === document.getElementById("productPopup")) closePopup();
    });

    document.getElementById("cartPopup").addEventListener("click", (e) => {
      if (e.target === document.getElementById("cartPopup")) closeCartPopup();
    });
  </script>
</body>
</html>
